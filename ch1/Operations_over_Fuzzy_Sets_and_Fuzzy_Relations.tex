\begin{notation}[label={not:OpsFS}]{Notation for variables in the current section}
    In this section, we use the variable \( x \) to represent time and \( y \) to represent distance.
  \end{notation}

\subsection{Union, Intersection and Complement of Fuzzy Sets}
The notions of union and intersection in fuzzy sets were first introduced by Zadeh \cite{Zadeh1965} using the operations $\max\{A(x),B(x)\}$ and $\min\{A(x),B(x)\}$ respectively. These can be intuitively interpreted as follows: the union is the \textit{smallest} fuzzy set (having lowest membership values) that contains both sets, while the intersection is the \textit{biggest} fuzzy set (having highest membership values) that is contained by both sets.\\

However, these operations can be generalized by two broader classes of operators: triangular norms (for intersection) and triangular conorms (for union).

Triangular norms were first introduced by Karl Menger in 1942 \cite{OriginTNorms} in the context of probabilistic metric spaces. When generalizing distances between points to probability distributions (representing the probability that the distance is less than or equal to a given value), Menger defined an operation $T:\,[0,1]\times [0,1]\to [0,1]$ to preserve the triangular inequality. For points $x,y,z$ in a metric space with distance function $d(\cdot,\cdot)$, this operation satisfies:

\begin{equation}\label{eq:Ftriangle_inequality}
d(x, z) \leq d(x, y) + d(y, z) \quad \longrightarrow \quad F_{xz}(t + s) \geq T(F_{xy}(t), F_{yz}(s)) \quad \forall t,s \geq 0
\end{equation}

This inequality means that the probability of $d(x,z)$ being less than $t+s$ must be at least the t-norm of the probabilities that $d(x,y)<t$ and $d(y,z)<s$. Note the change from $\leq$ to $\geq$ in the inequality. This is consistent with \textit{larger} probabilities indicating \textit{smaller} distances are more likely.\\

Since this originated in the context of distances, the following properties were required for an operator to be a t-norm\footnote{Associativity and one identity were not originally proposed by Menger but were later added by Sklar and Schweizer \cite{Sklar1983} in their refinement of triangular norms}:

\begin{itemize}
  \item \textbf{Symmetry:} The order of combining probabilities shouldn't matter, just as intersection of sets is commutative. That is, combining probabilities for distances $(x,y)$ and $(y,z)$ should give the same result regardless of order.
  
  \item \textbf{Associativity:} When combining multiple probabilities (e.g., for paths through points $x,y,z,w$), the grouping shouldn't affect the result. This extends the triangular norm to be consistent with polygonal inequalities, similar to how nested intersections satisfy $(A \cap B) \cap C = A \cap (B \cap C)$.
  
  \item \textbf{Monotonicity:} If the probability $F_{xy}(t)$ increases, then the lower bound for $F_{xz}(t+s)$ given by $T(F_{xy}(t), F_{yz}(s))$ should not decrease. This is analogous to how adding elements in crisp sets (or increasing membership degrees in fuzzy sets) cannot reduce the intersection set.
  
  \item \textbf{One Identity:} If $F_{yz}(s) = 1$ (meaning $d(y,z) < s$ with certainty), then $F_{xz}(t+s)$ depends only on $F_{xy}(t)$. This is analogous to how intersecting with the universal set preserves the original set.
\end{itemize}


% \say{The name \textit{triangular norm} refers to the fact that in the framework of probabilistic metric spaces, t-norms and t-conorms are used to generalize triangle inequality of ordinary metric spaces.}\cite{NGAN2018}\\

Therefore, the concept of intersection (conjunction) of fuzzy sets is generally represented by a triangular norm (also called a t-norm).

\begin{definition}[Triangular Norm]
    A mapping $T:[0,1]\times [0,1] \longrightarrow [0,1]$ that satisfies:
    \begin{romanenum}
      \item \textbf{Symmetricity:} $T(x,y) = T(y,x) \quad \oldforall x,y \in [0,1]$
      \item \textbf{Associativity:} $T(x,T(y,z)) = T(T(x,y),z) \quad \oldforall x,y,z \in [0,1]$
      \item \textbf{Monotonicity:} $T(x,y) \leq T(x',y') \quad \textnormal{if }x\leq x' \textnormal{ and } y\leq y' \quad \oldforall x,y,x',y' \in [0,1]$
      \item \textbf{One Identity:} $T(x,1) = T(1,x) = x \quad \oldforall x \in [0,1]$
    \end{romanenum}
    is called a triangular norm or t-norm. Defines the \textbf{intersection} of two fuzzy sets $A$ and $B$ on $X$ by giving the membership function as $(A \cap B) (x) = T(A(x),B(x)) \forall x \in X$ 
\end{definition}

Its dual operator can also be obtained by a similar reasoning as before, but instead of considering the probability distribution of finding both points closer than a given distance, it considers the probability distribution ($G_{uv}(t) = 1 - F_{uv}(t)$) of finding them further apart than that distance. In this case, both inequalities are $\leq$ since larger probabilities indicate that greater distances are more likely.
\begin{equation}\label{eq:Gtriangle_inequality}
d(x, z) \leq d(x, y) + d(y, z) \quad \longrightarrow \quad G_{xz}(t + s) \leq S(G_{xy}(t), G_{yz}(s))
\end{equation}

The reasoning regarding the properties is entirely analogous to the previous case, with the only difference being that $F_{uv}(t) = 1 \Leftrightarrow  G_{uv}(t) = 0$, and here the identity element is zero (union with the empty set).

\signal{Normalmente se pide que sean left continuous (it is sufficient in either argument \cite{Esteva2001MonoidalTB}), which expresses the assumption that a microscopic decrease of the truth degree of a conjunct should not macroscopically decrease the truth degree of conjunction.}

\begin{definition}[Triangular Conorm]
  A mapping $S:[0,1]\times [0,1] \longrightarrow [0,1]$ that satisfies:
  \begin{enumerate}[(i)]\setlength{\itemindent}{2em}
    \item \textbf{Symmetricity:} $S(x,y) = S(y,x) \quad \oldforall x,y \in [0,1]$
    \item \textbf{Associativity:} $S(x,S(y,z)) = S(S(x,y),z) \quad \oldforall x,y,z \in [0,1]$
    \item \textbf{Monotonicity:} $S(x,y) \leq S(x',y') \quad \textnormal{if }x\leq x' \textnormal{ and } y\leq y' \quad \oldforall x,y,x',y' \in [0,1]$
    \item \textbf{Zero Identity:} $S(x,0) = S(0,x) = x \quad \oldforall x \in [0,1]$
  \end{enumerate}
  is called a triangular conorm or t-conorm. Defines the \textbf{union} of two fuzzy sets $A$ and $B$ on $X$ by giving the membership function as $(A \cup  B) (x) = S(A(x),B(x)) \forall x \in X$ 
    
\end{definition}

Complement was defined by Zadeh \cite{Zadeh1965} as\footnote{This is not the only definition that satisfies the axioms of a complement and is compatible with the classical limit, but it is the simplest one and will be used in this text. Other alternatives and their axioms can be found in \cite{Sladoje2007}}:

\begin{definition}[Complement]
  The complement of a fuzzy set $A\in \fuzzy{X}$ is another fuzzy set with membership function given by $^\lnot A(x) \coleq 1 - A(x) \forall x\in X$
\end{definition}

Notice that this definition of complement is consistent with the classical definition of complement but implies that an element might have \textbf{non-zero partial membership} to both a fuzzy set and its complement: Let $A$ be a fuzzy set on $X$ and $x \in X / A(x)\notin \{0,1\}$ then $\lnot A(x)= 1 - A(x) \notin \{0,1\}$.\\

One consequence of this fact is that the union of a fuzzy set and its complement is not the total set in general. Analogously, the intersection will not the empty set in general. Those two properties that hold in classical sets but might not be true in fuzzy sets, are often called the \textbf{laws of excluded middle and of non-contradiction}, respectively.\\

However, there is a particular t-norm and t-conorm (named after Lukasiewicz) that does satisfy both laws. This will have implications for the derived logic that will be explained in section \ref{sec:fuzzy_logic}. \signal{is it the only one?}

\hspace{10em}$T_L(x,y)=\max\{x+y-1,0\},\, S_L(x,y)=\min\{1,x+y\}$\\

Another important property that classical union and intersection satisfy is De Morgan's Laws. For an arbitrary pair of t-norm and t-conorm, these laws are not automatically satisfied. However, there are specific pairs that do fulfill them. To illustrate the relationship between t-norms and t-conorms that satisfy De Morgan's Laws, we can use our probabilistic metric space analogy. Reconsidering the probabilistic metrics $F,G$ introduced earlier and substituting $F = 1 - G$ into equation \ref{eq:Ftriangle_inequality}, we obtain:

\[ G_{xz}(t + s) \leq 1 - T(1 - G_{xy}(t), 1 - G_{yz}(s))\]

Comparing this with equation \ref{eq:Gtriangle_inequality}, we can derive a relationship between t-norms and t-conorms, which is formalized in the following proposition:

\begin{proposition}[Relationship between t-norm and t-conorm]
  Given a t-norm $T$, the t-conorm is $S(a,b)\coleq 1 - T(1-a, 1-b)$ if and only if the union and intersection defined by that pair satisfy the De Morgan's Laws.
\end{proposition}
\begin{remark}
  It is easy to see that the previous relation is equivalent to $T(a,b) = 1-S(1-a, 1-b)$ which can be obtained simply by substituting $a'=1-a$ and $b'=1-b$, i.e., working with the complementary fuzzy sets.
\end{remark}

\begin{proof}
  Let $x\in X$, $A$, $B$ be fuzzy sets over $X$ with $a \coleq A(x)$ and $b \coleq B(x)$\\

  $\quad \boxed{\text{not}(A \text{ or } B) = (\text{not } A) \text{ and } (\text{not } B)}$\\
  [0.5em]
  $\lnot S(a,b) = T(\lnot a, \lnot b) \iff 1 - S(a,b) = T(1-a, 1-b) \iff S(a,b) = 1 - T(1-a, 1-b)$\\

  $\quad \boxed{\text{not}(A \text{ and } B) = (\text{not } A) \text{ or } (\text{not } B)}$\\
  [0.5em]
  $\lnot T(a,b) = S(\lnot a, \lnot b) \iff 1 - T(a,b) = S(1-a, 1-b) \iff T(a,b) = 1 - S(1-a, 1-b)$

\end{proof}

\signal{Creo que además de esto de las leyes de de Morgan, también nos da que el modus ponen funciona si se cumple la propiedad esa. Además no sé si se llama residual property.}

\signal{
  Lo de archimedean sirve para el teorema 1.8.1 de \cite{FULLER2}. Y tb con la law of large numbers con LR-fuzzy numbers.}



\begin{example}
  \signal{Some examples of t-norms and t-conorms.}
  \begin{itemize}
    \item \textbf{Minimum/Maximum:} 
    The largest t-norm (minimum) and smallest t-conorm (maximum). They are the standard interpretations of conjunction and disjunction in fuzzy logic and are idempotent ($T(x,x)=x, S(x,x)=x$).\\
    $T(x, y) = \min(x, y) \quad S(x, y) = \max(x, y)$

    \item \textbf{Łukasiewicz:}
    Represents a bounded arithmetic sum/difference logic. Corresponds to the logic introduced by Łukasiewicz. It is Archimedean but not strict (has zero divisors). Boundary condition for t-norms satisfying $T(x,y)+S(x,y) = x+y$. \\
    $T(x, y) = \max(0, x + y - 1) \quad S(x, y) = \min(1, x + y)$

    \item \textbf{Product:}
    The standard algebraic product t-norm and the probabilistic sum t-conorm. Represents the intersection of independent events in probability theory. It is a strict Archimedean t-norm. \\
    $T(x, y) = x \cdot y \quad S(x, y) = x + y - x \cdot y$

    \item \textbf{Drastic:}
    The smallest t-norm ($T_D$) and the largest t-conorm ($S_D$). They represent the most extreme intersection and union possible. \signal{Discontinuous except at boundary points (0,0), (1,1), etc.} \\
    $T(x, y) = \begin{cases} \min(x,y) & \text{if } \max(x,y)=1 \\ 0 & \text{otherwise} \end{cases} \quad S(x, y) = \begin{cases} \max(x,y) & \text{if } \min(x,y)=0 \\ 1 & \text{otherwise} \end{cases}$
    % Simpler equivalent definitions:
    % T(x, y) = y if x=1, x if y=1, 0 otherwise
    % S(x, y) = y if x=0, x if y=0, 1 otherwise

    \item \textbf{Hamacher Family ($\gamma \ge 0$):}
    A parametric family of t-norms and t-conorms. Includes the Product t-norm as a special case when $\gamma = 1$. It is strictly Archimedean for $\gamma > 0$. \\
    $T_\gamma(x, y) = \frac{xy}{\gamma + (1-\gamma)(x+y-xy)} \quad S_\gamma(x, y) = \frac{x+y-xy-(1-\gamma)xy}{1-(1-\gamma)xy}$
    % Note: For gamma=0 this is related to Lukasiewicz via generator, for gamma -> infinity to Drastic.

    \item \textbf{Dubois and Prade Family ($\alpha \in [0, 1]$):}
    A parametric family that includes the Minimum t-norm ($\alpha=0$) and the Product t-norm ($\alpha=1$). Provides flexibility between these two important t-norms. \\
    $T_\alpha(x, y) = \frac{xy}{\max(x, y, \alpha)} \quad S_\alpha(x, y) = 1 - \frac{(1-x)(1-y)}{\max(1-x, 1-y, \alpha)}$ 
    % Note: The S-conorm is expressed directly via duality relation S(x,y) = 1 - T(1-x, 1-y).

    \item \textbf{Yager Family ($p > 0$):}
    A parametric family characterized by the parameter $p$. It approaches the Drastic t-norm as $p \to 0^+$ and the Minimum t-norm as $p \to \infty$. The Łukasiewicz t-norm is obtained for $p=1$. \\
    $T_p(x, y) = \max(0, 1 - ((1-x)^p + (1-y)^p)^{1/p}) \quad S_p(x, y) = \min(1, (x^p + y^p)^{1/p})$

    \item \textbf{Frank Family ($p > 0, p \neq 1$):}
    The only family of t-norms (besides min-max) that are Archimedean and satisfy the functional equation $T(x, y) + S(x, y) = x + y$. It includes Łukasiewicz ($p \to 0^+$), Product ($p \to 1$), and Minimum/Maximum ($p \to \infty$) as limiting cases. \\
    $T_p(x, y) = \log_p \left( 1 + \frac{(p^x - 1)(p^y - 1)}{p - 1} \right) \quad S_p(x, y) = 1 - \log_p \left( 1 + \frac{(p^{1-x} - 1)(p^{1-y} - 1)}{p - 1} \right)$

    \item \textbf{Schweizer-Sklar Family ($p \in [-\infty, \infty]$):}
    A very general parametric family encompassing several others. Includes Drastic ($p \to -\infty$), Łukasiewicz ($p=1$ in a different parameterization, not this T form), Product ($p=0$ in a related form), and Minimum ($p \to \infty$). The Yager family is generated differently but related. \\
    $T_p(x, y) = (\max(0, x^p + y^p - 1))^{1/p} \quad S_p(x, y) = 1 - (\max(0, (1-x)^p + (1-y)^p - 1))^{1/p}$ 
    % Note: S-conorm shown is the dual S_p(x,y) = 1 - T_p(1-x, 1-y). The commonly cited S_p(x,y) = (min(1, x^p + y^p))^{1/p} is NOT dual to this T_p w.r.t standard negation.
  \end{itemize}
\end{example}











\subsubsection*{Classification of T-norms}

\signal{Añadir lo de strict archimedean y divisores de zero y eso.}
\begin{definition}[Archimedean t-norm]
  A continuous t-norm that satisfies $T(x,x)<x \forall x\in ]0,1[$ is called an archimedean t-norm.
\end{definition}

\begin{proposition}[Characterization of archimedean t-norms]
  For all archimedean t-norms there exists a continuous decreasing function $f:[0,1] \longrightarrow [0,\infty[$ with $f(1)=0$ such that: 
  \[ 
  T(x,y)= f^{-1}(\min\{f(x)+f(y), f(0)\}) \text{ where } f^{-1} =
  \begin{cases}
    f^{-1}(y) & \text{if } y\in [0,f(0) ]\\
    0 & \text{otherwise}
  \end{cases}
  \text{ is a pseudo-inverse}.
  \]
\end{proposition}


\signal{
\begin{definition}[Nilpotent t-norm]
  
\end{definition}}

\begin{definition}[Weaker t-norm]
  Given $T_1, T_2$ t-norms, then $T_1$ is weaker than $T_2$ $(T_1 \leq T_2)$ if $T_1(x,y)\leq T_2(x,y)\forall x,y\in [0,1]$.\\
  In that case, it is equivalent to say $T_2$ is stronger than $T_1$ $(T_2 \geq T_1)$

\end{definition}
\begin{remark}
  This defines a partial order relation in the set of t-norms.
\end{remark}
\signal{The weaker the t-norm, the stronger the associated s-norm. Lo pongo como un remark igual.}

\signal{
There are many results like all t-norms are between the weak and the min, all t-conorms are between max and strong, or that min is the only t-norm that satisfies $T(a,a)=a$ (igual es por esto ultimo q se usa tanto. Qué implicaciones tiene que lukasiewicz no cumpla eso?)}

\signal{Tambien lo de que la T-norm e distributiva con max/sup sirve para justificar la definicion del producto cartesiano, así que esa propiedad la tendré que meter por aquí igual.}



% \subsubsection*{Classification of T-norms}

% The set of all t-norms can be partially ordered, and understanding their properties allows for a useful classification, particularly for continuous t-norms.

% \begin{definition}[Weaker/Stronger t-norm {\citep[Definition 1.4, p.~21]{Klement2000}}]
%   Given two t-norms $T_1$ and $T_2$, $T_1$ is said to be \emph{weaker} than $T_2$ (denoted $T_1 \leq T_2$) if $T_1(x,y) \leq T_2(x,y)$ for all $x,y \in [0,1]$.
%   Equivalently, $T_2$ is said to be \emph{stronger} than $T_1$.
% \end{definition}

% \begin{remark}
%   The relation $\leq$ defines a partial order on the set of all t-norms.
%   It's a fundamental result that for any t-norm $T$, we have $T_D \leq T \leq T_M$, where $T_D$ is the drastic product and $T_M$ is the minimum t-norm (\citep[Remark 1.5(i), p.~21]{Klement2000}).
% \end{remark}

% \begin{remark}
%   Duality with t-conorms: If $T_1 \leq T_2$ are t-norms, and $S_1, S_2$ are their respective dual t-conorms (obtained via a strong negation $N$, typically $N(x)=1-x$), then $S_1 \geq S_2$. Thus, a weaker t-norm corresponds to a stronger dual t-conorm.
% \end{remark}

% To classify t-norms further, several algebraic properties are essential:

% \begin{definition}[Algebraic Properties of T-norms {\citep[Definition 2.1, p.~22 \& Definition 2.9, p.~27]{Klement2000}}]
% Let $T$ be a t-norm.
% \begin{enumerate}
%     \item An element $a \in [0,1]$ is an \emph{idempotent element} of $T$ if $T(a,a)=a$. The elements $0$ and $1$ are always trivial idempotent elements.
%     \item An element $a \in ]0,1[$ is a \emph{nilpotent element} of $T$ if there exists $n \in \mathbb{N}$ such that $a_T^{(n)} = 0$, where $a_T^{(n)}$ denotes the $n$-th power of $a$ with respect to $T$.
%     \item An element $a \in ]0,1[$ is a \emph{zero divisor} of $T$ if there exists $b \in ]0,1[$ such that $T(a,b)=0$.
%     \item $T$ is \emph{Archimedean} if for each $(x,y) \in ]0,1[^2$ there is an $n \in \mathbb{N}$ with $x_T^{(n)} < y$. Equivalently, a t-norm $T$ is Archimedean if and only if it has only trivial idempotent elements (0 and 1) and satisfies a further condition related to limits, or more simply for continuous t-norms, if $T(x,x) < x$ for all $x \in ]0,1[$ (\citep[Theorem 2.12, p.~28 \& for continuous context, implied by Theorem 5.1, p.~122]{Klement2000}).
% \end{enumerate}
% \end{definition}

% \begin{proposition}[{\citep[Proposition 1.9(i), p.~24]{Klement2000}}]
%   The minimum t-norm $T_M(x,y) = \min(x,y)$ is the only t-norm $T$ satisfying $T(x,x)=x$ for all $x \in [0,1]$.
% \end{proposition}

% \paragraph{Continuous T-norms}
% Continuous t-norms admit a very structured classification.

% \begin{theorem}[Generator Theorem for Continuous Archimedean T-norms {\citep[Theorem 5.1, p.~122]{Klement2000}}]
%   A function $T: [0,1]^2 \to [0,1]$ is a continuous Archimedean t-norm if and only if it has a \emph{continuous additive generator}. That is, there exists a continuous, strictly decreasing function $t: [0,1] \to [0,\infty]$ with $t(1)=0$, such that for all $(x,y) \in [0,1]^2$:
%   \[
%   T(x,y) = t^{(-1)}(t(x) + t(y))
%   \]
%   where $t^{(-1)}: [0,\infty] \to [0,1]$ is the pseudo-inverse of $t$, defined as
%   \[
%   t^{(-1)}(z) =
%   \begin{cases}
%     t^{-1}(z) & \text{if } z \in [0, t(0)] \\
%     0 & \text{if } z \in ]t(0), \infty]
%   \end{cases}
%   \]
%   (If $t(0)=\infty$, then $t^{(-1)} = t^{-1}$). The generator $t$ is unique up to a positive multiplicative constant.
% \end{theorem}

% Continuous Archimedean t-norms are further divided into two main classes:

% \begin{definition}[Strict and Nilpotent T-norms {\citep[Definition 2.13, p.~42]{Klement2000}}]
%   \begin{enumerate}
%       \item A t-norm $T$ is called \emph{strict} if it is continuous and strictly monotone (i.e., $T(x,y) < T(x,z)$ whenever $x>0$ and $y<z$).
%       \item A t-norm $T$ is called \emph{nilpotent} if it is continuous and if each $a \in ]0,1[$ is a nilpotent element of $T$.
%   \end{enumerate}
% \end{definition}

% \begin{corollary}[{\citep[Corollary 3.30, p.~88]{Klement2000}}]
%   Let $T$ be a continuous Archimedean t-norm with a continuous additive generator $t$.
%   \begin{enumerate}
%       \item $T$ is strict if and only if $t(0) = \infty$.
%       \item $T$ is nilpotent if and only if $t(0) < \infty$.
%   \end{enumerate}
% \end{corollary}

% \begin{proposition}[Isomorphism of Continuous Archimedean T-norms {\citep[Corollary 5.7, p.~125; Proposition 5.9, p.~126; Proposition 5.10, p.~127]{Klement2000}}]
%   \begin{enumerate}
%       \item Every strict t-norm is isomorphic to the product t-norm $T_P(x,y) = xy$.
%       \item Every nilpotent t-norm is isomorphic to the Łukasiewicz t-norm $T_L(x,y) = \max(0, x+y-1)$.
%   \end{enumerate}
%   This means that any continuous Archimedean t-norm is isomorphic to either $T_P$ or $T_L$.
% \end{proposition}

% \paragraph{Ordinal Sum Representation}
% Not all continuous t-norms are Archimedean. Those that are not (i.e., possess non-trivial idempotents) can be constructed from Archimedean t-norms using the concept of an ordinal sum.

% \begin{definition}[Ordinal Sum of T-norms {\citep[Definition 3.44, p.~97]{Klement2000}}]
% Let $(T_\alpha)_{\alpha \in A}$ be a family of t-norms and $(]a_\alpha, e_\alpha[)_{\alpha \in A}$ be a family of non-empty, pairwise disjoint open subintervals of $[0,1]$. The t-norm $T$ defined by
% \[
% T(x,y) =
% \begin{cases}
%   a_\alpha + (e_\alpha - a_\alpha) \cdot T_\alpha \left( \frac{x-a_\alpha}{e_\alpha - a_\alpha}, \frac{y-a_\alpha}{e_\alpha - a_\alpha} \right) & \text{if } (x,y) \in [a_\alpha, e_\alpha]^2 \text{ for some } \alpha \in A \\
%   \min(x,y) & \text{otherwise}
% \end{cases}
% \]
% is called the \emph{ordinal sum} of the summands $(a_\alpha, e_\alpha, T_\alpha)$, $\alpha \in A$.
% We denote this as $T = ((a_\alpha, e_\alpha, T_\alpha))_{\alpha \in A}$.
% \end{definition}

% \begin{theorem}[Representation of Continuous T-norms {\citep[Theorem 5.11, p.~140]{Klement2000}}]
%   A function $T: [0,1]^2 \to [0,1]$ is a continuous t-norm if and only if $T$ is uniquely representable as an ordinal sum of continuous Archimedean t-norms.
% \end{theorem}

% \begin{remark}
%   A t-norm is \emph{ordinally irreducible} if it only has a trivial ordinal sum representation (i.e., $T = ((0,1,T))$). For continuous t-norms, being ordinally irreducible is equivalent to being Archimedean (\citep[Proposition 3.53, p.~99 & surrounding discussion]{Klement2000}).
% \end{remark}

% In summary, continuous t-norms are either Archimedean (and thus isomorphic to $T_P$ or $T_L$) or they are ordinal sums of such Archimedean t-norms (and $T_M$ as a limiting case).
























\subsection{Fuzzy Relations}
\signal{Igual esto motivar la definición de relación con un ejemplo a estas alturas es pasarse?}

In the previous sections we have been working with a single domain denoted by $X$. Intuitively, it might be useful to think about the domain as the possible values of a property independently of the object that has that property. For example, we could say that for the property \textit{lenght} the domain is $\R^+\coleq
\{x\in\R \min x \geq 0\}$ and a person might have a \textit{height} defined in that domain (modeled as a fuzzy subset), although not all possible lengths values will be part of the support of a person's height since it is save to assume impossible to be 10 meters tall. If we were to look at the arm length, then we would have another subset of the lenghts. Treating each subset independently, doesn't allow to distinguish between the people of the same height with different arm lenght or viceversa. Therefore it is needed to a way to differentiate each unique combination of attributes. Notice that in this example, height and arm length have the same domain but for example hair color would have a different domain.\\

Mathematically, this is done with \textbf{relations} which are subsets of the cartesian product of the domains, so that each element is a unique possible combination of attributes, an ordered n-tuple. For simplicity, let us consider just the cartesian product of 2 sets since the general case can be obtained inductively. Again, the "fuzzy" part will be referred to how we generalize the membership values to the continuum.\\


\begin{definition}[Fuzzy Relation]
  Let $X\neq \emptyset \neq Y$ be classical sets. Then a fuzzy relation $R$ is a fuzzy set on $X\times Y$, i.e., $R\in \fuzzy{X\times Y}$. $R(x,y)$ will denote the degree of membership of $(x,y) \in R$
\end{definition}

\begin{notation}[label={not:compositionFS}]{Notation}
  Although Fuzzy Relations are Fuzzy Sets as well, we will often use the name distinction to denote whether the domain is a cartesian product or not.
\end{notation}

\begin{remark}
  To formally extend the Cartesian product from two sets to \( n \) sets using induction, it is important to observe that it satisfies associativity up to a natural isomorphism, i.e., 
  \[
  (A\times B)\times C \cong A\times (B\times C).
  \]
\end{remark}

Before giving the definition of the fuzzy cartesian product, we need to first understand what the classical cartesian product is in terms of the membership function. When we define a cartesian product $A\times B$ as "\textit{all unique ordered pairs of elements from $A$ \textbf{and} $B$}", in terms of membership functions we are taking the intersection of membership to $A$ and membership to $B$. Therefore, generalizing that notion with a t-norm we get the following definition.

\begin{definition}[Fuzzy Cartesian Product]
  It is a fuzzy relation $A\times B \in \fuzzy{X\times Y}$ such that the membership function is given by:
  \[ 
  (A\times B)(x,y) = T(A(x), B(y)), \quad \forall (x,y) \in X\times Y
  \]
  where $T$ is a t-norm.
\end{definition}

To justify the definition of the membership function of a cartesian product of two fuzzy sets, let us first recall that in classical sets, we can retrieve the orginal subsets individually by taking the projection of the cartesian product. Given $R$ a relation on $X\times Y$ the projections are:

\[\Pi_X(R)=\{x \in X \mid \exists y \in Y \textnormal{ such that } (x,y) \in R\}\]
\[\Pi_Y(R)=\{y \in Y \mid \exists x \in X \textnormal{ such that } (x,y) \in R\}\]

Then, with the boolean membership, it can be expressed as well as:

\[\Pi_X(R)(x)=\sup\{R(x,y) \mid y\in Y\}=
\begin{cases}
  1 & \textnormal{if } \exists y \in Y \textnormal{ such that } (x,y) \in R \\
  0 & \textnormal{otherwise}
\end{cases}
\]
\[
  \Pi_Y(R)(y)=\sup\{R(x,y) \mid x\in X\}=
  \begin{cases}
    1 & \textnormal{if } \exists x \in X \textnormal{ such that } (x,y) \in R \\
    0 & \textnormal{otherwise}
  \end{cases}
\]

It is clear that in the case of having 2 possible values for the membership function, the above expresions are identical. The use of $\sup$ in the definition of the projection can be intuitively interpreted as the \textit{shadow} of the membership function of the cartesian product, as figure \ref{fig:class_cart_prod} illustrates. It is also desirable because then the following property holds for any classical \signal{(and fuzzy?)} cartesian product:\\
$$ 
\Pi_X(A\times B)=A \quad \textnormal{ and } \quad \Pi_Y(A\times B)=B \forall A\in X, \forall B \in Y
$$

\begin{figure}[ht]
  \centering
  \includegraphics[width=0.65\textwidth]{ch1/figures/class_cart_prod.png}
  \caption{The blue volume represents the membership function of the cartesian product of two classical sets $X=[a,b]$ and $Y=[c,d]$ in $\R$. In the plane $y=0$ we have the projection that corresponds to the membership function of $X$ and analogously, the projection of $Y$ in the plane $x=0$.}
  \label{fig:class_cart_prod}
\end{figure}

Therefore, we define:

\begin{definition}[Projection of a fuzzy relation]
  The projection from fuzzy relations on $X\times Y$ onto the fuzzy sets on $X$ is the function:
  \[
    \begin{aligned}
      \Pi_X: \fuzzy{X\times Y} &\longrightarrow \fuzzy{X} \\
      R &\longmapsto \Pi_X(R)
    \end{aligned}
  \]
  where $\Pi_X(R)(x) = \sup_{y\in Y}\{R(x,y)\}\forall x \in X$
\end{definition}

Applying the definition of projection with the supremum to fuzzy sets, we have a way to retrieve the membership function of each fuzzy set given the membership function of a fuzzy cartesian product (figure \ref{fig:fuzzy_cart_prod}). \\






\begin{figure}[ht]
    \centering
    \includegraphics[width=0.65\textwidth]{ch1/figures/fuzzy_cart_prod.png}
    \caption{The blue volume represents the membership function of the cartesian product of two fuzzy sets $X$ and $Y$. In the plane $y=0$, we have the projection that corresponds to the membership function of $X$, and analogously, the projection of $Y$ in the plane $x=0$. The partial memberships illustrate how the fuzzy relations can vary across the domains.}
    \label{fig:fuzzy_cart_prod}
\end{figure}

\signal{Falta ver que que la proyección nos devuelve el fuzzy set original en los fuzzy cart prod.}

\signal{\paragraph{Retrieving Original Sets from Cartesian Product}
Let $A \in \fuzzy{X}$ and $B \in \fuzzy{Y}$ be two fuzzy sets. Their fuzzy Cartesian product $R = A \times B \in \fuzzy{X \times Y}$ is typically defined using a t-norm $T$:
\[ R(x,y) = T(A(x), B(y)) \quad \forall x \in X, y \in Y \]
We now verify if the projection operation retrieves the original fuzzy sets from this product, addressing the question raised earlier about whether $\Pi_X(A \times B) = A$ and $\Pi_Y(A \times B) = B$ holds in the fuzzy case.

Consider the projection onto $X$:
\[ \Pi_X(A \times B)(x) = \sup_{y \in Y} R(x,y) = \sup_{y \in Y} T(A(x), B(y)) \]
From the t-norm property $T(a,b) \le a$, we know $T(A(x), B(y)) \le A(x)$ for all $y \in Y$. Consequently, the supremum over $y$ must also satisfy this inequality:
\[ \sup_{y \in Y} T(A(x), B(y)) \le A(x) \]

For the equality $\Pi_X(A \times B)(x) = A(x)$ to hold, we need the supremum to reach $A(x)$. This occurs under specific conditions. Using the boundary condition axiom for t-norms, $T(a, 1) = a$, if the fuzzy set $B$ is \textbf{normalized} (i.e., its height $h_B = \sup_{y \in Y} B(y) = 1$), and assuming the t-norm $T$ is upper semi-continuous in the second argument (which holds for all common t-norms like min, product, Łukasiewicz), then:
\[ \sup_{y \in Y} T(A(x), B(y)) = T(A(x), \sup_{y \in Y} B(y)) = T(A(x), 1) = A(x) \]
Therefore, $\Pi_X(A \times B) = A$ holds if the fuzzy set $B$ is normalized.

An analogous argument applies to the projection onto $Y$:
\[ \Pi_Y(A \times B)(y) = \sup_{x \in X} R(x,y) = \sup_{x \in X} T(A(x), B(y)) \]
Using $T(a,b) \le b$ and the boundary condition $T(1, b) = b$, we find that $\Pi_Y(A \times B) = B$ holds if the fuzzy set $A$ is normalized ($h_A = \sup_{x \in X} A(x) = 1$) and $T$ is upper semi-continuous in the first argument.

In summary, the desirable property that projections of a fuzzy Cartesian product (defined via a t-norm $T$) retrieve the original fuzzy sets holds true provided that the set being projected \textit{away} is normalized. This requirement parallels the condition in classical set theory where the property holds if the corresponding sets are non-empty.}


\subsubsection*{Composition of Fuzzy Sets}

% The definition of projection allows us to define a composition of fuzzy relations with a common domain. Intuitively, a composition is the projection into the uncommon domain of the intersection of each fuzzy relation.

% \begin{definition}[Composition of 2 Fuzzy Relations]
%     Let $R\in \fuzzy{X\times Y}$, $G \in \fuzzy{X\times Y}$ be 2 fuzzy relations with one of the sets of the domain in common. Then the composition is another fuzzy relation $R\circ G\in \fuzzy{X\times Z}$ (the non common sets of the domain) and the membership function is given by the projection of the cartesian product:
%     \[
%     (R \circ G) (x,z) = \Pi_{X\times Z}[T(R(x,y), G(y,z))] = \sup_{y\in Y}\{T(R(x,y), G(y,z))\}
%     \]
% \end{definition}

The concept of projection allows us to combine fuzzy relations sharing a common domain. Intuitively, composing two fuzzy relations involves intersecting their membership values (using a t-norm) and then projecting the result onto the domain where the relations do not overlap.

\begin{definition}[Composition of Two Fuzzy Relations]
    Let \( R \in \fuzzy{X \times Y} \) and \( G \in \fuzzy{Y \times Z} \) be fuzzy relations sharing the set \(Y\). Their composition \( R \circ G \) is the fuzzy relation in \(\fuzzy{X \times Z}\) defined by
    \[
    (R \circ G)(x,z) = \Pi_{X\times Z}\Bigl[\, T\bigl(R(x,y), G(y,z)\bigr) \Bigr] = \sup_{y\in Y}\, T\bigl(R(x,y), G(y,z)\bigr),
    \]
    where \(T\) is a t-norm acting as the fuzzy intersection.
\end{definition}

% This means that given three properties $X$, $Y$ and $Z$ and two fuzzy relation R from X to Y and another fuzzy relation from Y to Z, we have a way to induce a relation $R\circ G$ between X and Z.

% (add a diagram here)

Given three sets \(X\), \(Y\), and \(Z\), suppose we have a fuzzy relation \(R\) from \(X\) to \(Y\) and another fuzzy relation \(G\) from \(Y\) to \(Z\). Using the composition operation, we can derive a new fuzzy relation \(R \circ G\) that directly connects \(X\) to \(Z\).

\noindent
\begin{minipage}{0.7\textwidth}
In this diagram, the arrows represent fuzzy relations, with \(R\) mapping elements from \(X\) to \(Y\), \(G\) mapping from \(Y\) to \(Z\), and \(R \circ G\) representing the induced fuzzy relation between \(X\) and \(Z\) through composition.\\
\end{minipage}%
\begin{minipage}{0.3\textwidth}
  \begin{center}
    \begin{tikzcd}
      X \arrow[r, "R", leftrightarrow] & Y \arrow[r, "G", leftrightarrow] & Z \arrow[bend right=30, from=1-1, "R \circ G"', leftrightarrow]
      \end{tikzcd}
  \end{center}

\end{minipage}


We can define a the composition of a fuzzy set with a fuzzy relation in a completely analogous way. 

\begin{definition}[Composition of a Fuzzy Set and a Fuzzy Relation]
    Let \( A \in \fuzzy{X} \) be a fuzzy set on \(X\) and \( R \in \fuzzy{X \times Y} \) be a fuzzy relation between \(X\) and \(Y\). The composition \( A \circ R \in \fuzzy{Y} \) is defined by
    \[
    (A \circ R)(y) = \Pi_{Y}\Bigl[\, T\bigl( A(x), R(x,y) \bigr) \Bigr] = \sup_{x \in X}\, T\bigl( A(x), R(x,y) \bigr),
    \]
    where \(T\) is a t-norm.
\end{definition}



\subsection{Extension Principle}

Following a similar idea as in the definition of the composition of fuzzy sets, we can derive a way to generalize crisp functions \signal{(Hasta ahora lo he llamado classical en vez de crisp, tengo que explicarlo y elegir una notación uniforme)} to fuzzy sets.\\

Let's consider the crisp function $f:\,X \longrightarrow Y$ where $X$ and $Y$ are classical sets. And consider as well the fuzzy sets $A \in \fuzzy{X}$. Then $f$ induces the classical relation $R=\{(x,y)\in X\times Y \mid f(x)=y\}$. And we can also make this relation fuzzy by copying the membership function of $A$:
$$ \mu_R (x,y) = \mu_A (x) \forall (x,y)\in R$$
Now we can define $B\in\fuzzy{Y}$, the fuzzy image of $A$ under $f$, as the projection of this fuzzy relation:
$$\mu_B (y) = \Pi_Y (R) = \sup\{R(x,y)\mid x\in X\} = \sup\{\mu_A (x)\mid x\in X, \, f(x)= y\} = \sup_{x\in f^{-1}(y)}\{\mu_A(x)\}$$

This is called the (Zadeh's) extension principle and is the basis for building arithmetic for fuzzy numbers (see section \ref{sec:fuzzy_numbers}) and generalizing any crisp function to fuzzy sets: 

\begin{definition}[Zadeh's extension principle]
  Let $f: X \longrightarrow Y$ be a crisp function and $A\in \fuzzy{X}$ a fuzzy set on $X$. Then we can define $f(A)\in \fuzzy{Y}$ as:
  \[
  \mu_{f(A)}(y)\equiv f(A)(y) = 
  \begin{cases}
    \sup_{x\in f^{-1}(y)}A(x) & \textnormal{if } f^{-1}(y)\neq \emptyset\\
    0 & \textnormal{otherwise}
  \end{cases}
  \quad\quad\quad \textnormal{where } f^{-1}(y)=\{x\in X \mid f(x)=y\}
  \]
\end{definition}


\begin{remark}
  If $f$ is \textbf{injective} then for any $y \in \textnormal{Im}(f)$ there exists a unique $x \in X$ such that $f(x)=y$, and therefore $f^{-1}(y)=\{x\}$. Then the first case can be rewritten as, $f(A)(y) = A(f^{-1}(y))$ if $y \in \textnormal{Im}(f)$.
\end{remark}

It is important to highlight as well that this definition is straight forward generalization of set-valued functions where $f(A)= \{f(x)\mid x\in A\}$. In terms of boolean membership function:
$$\chi _{f(A)}(y)=\sup_{x\in f^{-1}(y)}\chi_A(x)$$

The definition above can be generalized to vector functions using the definition of fuzzy cartesian product, which requires us to take the intersection:

\begin{definition}[Sup-T extension principle]
  Let $f: X_1 \times \cdots \times X_n \longrightarrow Y$ be a crisp function and $A_1 \in \fuzzy{X_1}, \ldots, A_n \in \fuzzy{X_n}$ be fuzzy sets. Then we can define $f(A_1,\ldots,A_n)\in \fuzzy{Y}$ as:
  \[
  \mu_{f(A_1,\ldots,A_n)}(y)\equiv f(A_1,\ldots,A_n)(y) = 
  \begin{cases}
    \sup_{(x_1,\ldots,x_n)\in f^{-1}(y)} T(A_1(x_1),\ldots,A_n(x_n)) & \textnormal{if } f^{-1}(y)\neq \emptyset\\
    0 & \textnormal{otherwise}
  \end{cases}
  \]
  where $f^{-1}(y)=\{(x_1,\ldots,x_n)\in X_1\times\cdots\times X_n \mid f(x_1,\ldots,x_n)=y\}$ and $T$ is a t-norm.
\end{definition}

Which is again a generalization of vector set-valued functions where: $$f(A_1,\ldots,A_n)= \{f(x_1,\ldots,x_n)\mid x_i\in A_i\}$$
In terms of boolean membership function:
$$\chi _{f(A_1,\ldots,A_n)}(y)=\sup_{(x_1,\ldots,x_n)\in f^{-1}(y)}T(\chi_{A_1}(x_1),\ldots,\chi_{A_n}(x_n)) = \sup_{(x_1,\ldots,x_n)\in f^{-1}(y)}min\{\chi_{A_1}(x_1),\ldots,\chi_{A_n}(x_n)\}$$

Where we have used that every t-norm operates the same on boolean memberships. \signal{Debería haber puesto esto como un remark cuando presento la intersección y la unión.}\\

\signal{Hay otros principios de extensión como el de Ramik con extensiones canónicas y order preserving operators, etc. No sé hasta qué punto eso podrá serme útil.}