%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Preamble
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\ProvidesPackage{thesisutilities}[2025/01/21 Custom Abstract Environments]

\RequirePackage{xcolor}
\RequirePackage{graphicx}
\RequirePackage{here}
\RequirePackage{lipsum}
\RequirePackage[a4paper, margin=1in]{geometry}
\RequirePackage{amsthm}
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{tcolorbox}
\RequirePackage{enumerate}
\RequirePackage{tikz-cd}
\RequirePackage{tikz}
\usetikzlibrary{positioning, shapes, arrows}
\RequirePackage{hyperref}
\RequirePackage[
    left = ``,% 
    right = '',% 
    leftsub = `,% 
    rightsub = ' %
]{dirtytalk}
\RequirePackage[linesnumbered,ruled,vlined]{algorithm2e}
% Algorithm Environment Usage:
%
% Basic structure:
% \begin{algorithm}[H]
%     \caption{Algorithm Name}
%     \KwIn{Input parameters description}
%     \KwOut{Output description}
%     
%     % Algorithm steps here
%     % Use indentation for nested blocks
% \end{algorithm}
%
% Common commands:
% \For{condition}{body}     % For loops
% \While{condition}{body}   % While loops
% \If{condition}{body}      % If statements
% \ElseIf{condition}{body}  % Else if
% \Else{body}              % Else
% \tcp{comment}            % Comments
% \Return statement        % Return value
%
% Example:
% \begin{algorithm}[H]
%     \caption{Binary Search}
%     \KwIn{Sorted array A, target value x}
%     \KwOut{Index of x in A, or -1 if not found}
%     left $\gets$ 0\;
%     right $\gets$ length(A) - 1\;
%     \While{left $\leq$ right}{
%         mid $\gets$ $\lfloor$(left + right)$/2\rfloor$\;
%         \If{A[mid] = x}{
%             \Return mid\;
%         }
%         \ElseIf{A[mid] < x}{
%             left $\gets$ mid + 1\;
%         }
%         \Else{
%             right $\gets$ mid - 1\;
%         }
%     }
%     \Return -1\;
% \end{algorithm}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Abstract
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Default options
\definecolor{defaultabstractrulecolor}{rgb}{0,0,0} % Define a default color
\newcommand{\abstractrulecolor}{defaultabstractrulecolor}
\newcommand{\abstracttitlesize}{\large}

% Allow overriding options
\DeclareOption{rulecolor}{\def\abstractrulecolor{#1}}
\DeclareOption{titlesize}{\def\abstracttitlesize{\csname #1\endcsname}}
\ProcessOptions\relax

% Define custom abstract environment
\newenvironment{abstract}{%
    \vspace*{2em}
    \begin{center}
        {\abstracttitlesize\bfseries\abstractname}
    \end{center}
    \vspace{1em}
    \noindent\textcolor{\abstractrulecolor}{\rule{\textwidth}{0.5pt}}
    \par
    \noindent
}{%
    \par\vspace{1em}
    \noindent\textcolor{\abstractrulecolor}{\rule{\textwidth}{0.5pt}}
}
\newcommand{\abstractname}{Abstract}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Theorem-like envs
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% 1. Plain style: For theorem-like statements
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]% Numbered by section
\newtheorem{lemma}[theorem]{Lemma}% Share numbering with Theorem
\newtheorem{corollary}[theorem]{Corollary}% Share numbering with Theorem
\newtheorem{proposition}[theorem]{Proposition}% Share numbering with Theorem

% 2. Definition style: For definitions
\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\newtheorem*{definition*}{Definition}% Unnumbered definition
\newtheorem{example}{Example}[section]

% 3. Remark style: For remarks or informal notes
\theoremstyle{remark}
\newtheorem*{remark}{\textbf{Remark}}
\newtheorem*{note}{Note}

%4. Notation Environment:
\newcounter{tcb@cnt@notation}
\newtcolorbox{notation}[2][]{colframe=blue!10!white, colback=blue!2!white, coltitle=blue!30!black, title=#2,#1}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Signal
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\signal}[1]{{\color{red}#1}}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Math
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\let\oldforall\forall
\renewcommand{\forall}{\, \, \, \oldforall}

\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\A}{\mathcal{A}}
\newcommand{\C}{\mathcal{C}}



\newcommand{\fuzzy}[1]{\mathcal{F}(#1)}

\let\oldsup\sup
\renewcommand{\sup}{\mathop{\oldsup}\limits}

\renewcommand{\lim}[2]{\mathop{\mathrm{lim}}\limits_{#1 \to #2}}


\newcommand{\coleq}{\mathrel{\mathop:}=}
\newcommand{\eqcol}{=\mathrel{\mathop:}}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Useful Envs
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Roman numeral enumeration with 2em indent
\newenvironment{romanenum}{
  \begin{enumerate}[(i)]\setlength{\itemindent}{2em}
}{
  \end{enumerate}
}
